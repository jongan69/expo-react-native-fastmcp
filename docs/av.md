AV - Expo Documentation

[Docs](/)

[Blog](https://expo.dev/blog)[Changelog](https://expo.dev/changelog)[Star Us on GitHub](https://github.com/expo/expo)

Search

[Home](/)[Guides](/guides/overview)[EAS](/eas)[Reference](/versions/latest)[Learn](/tutorial/overview)

Reference version

Configuration files

[app.json / app.config.js](/versions/v52.0.0/config/app)[babel.config.js

NEW](/versions/v52.0.0/config/babel)[metro.config.js](/versions/v52.0.0/config/metro)[package.json

NEW](/versions/v52.0.0/config/package-json)

Expo SDK

[Expo

NEW](/versions/v52.0.0/sdk/expo)[Accelerometer](/versions/v52.0.0/sdk/accelerometer)[AppleAuthentication](/versions/v52.0.0/sdk/apple-authentication)[Application](/versions/v52.0.0/sdk/application)[Asset](/versions/v52.0.0/sdk/asset)[AsyncStorage](/versions/v52.0.0/sdk/async-storage)[Audio (expo-audio)

NEW](/versions/v52.0.0/sdk/audio)[Audio (expo-av)](/versions/v52.0.0/sdk/audio-av)[AuthSession](/versions/v52.0.0/sdk/auth-session)[AV](/versions/v52.0.0/sdk/av)[BackgroundFetch](/versions/v52.0.0/sdk/background-fetch)[BackgroundTask

NEW](/versions/v52.0.0/sdk/background-task)[Barometer](/versions/v52.0.0/sdk/barometer)[Battery](/versions/v52.0.0/sdk/battery)[BlurView](/versions/v52.0.0/sdk/blur-view)[Brightness](/versions/v52.0.0/sdk/brightness)[BuildProperties](/versions/v52.0.0/sdk/build-properties)[Calendar](/versions/v52.0.0/sdk/calendar)[Camera](/versions/v52.0.0/sdk/camera)[captureRef](/versions/v52.0.0/sdk/captureRef)[Cellular](/versions/v52.0.0/sdk/cellular)[Checkbox](/versions/v52.0.0/sdk/checkbox)[Clipboard](/versions/v52.0.0/sdk/clipboard)[Constants](/versions/v52.0.0/sdk/constants)[Contacts](/versions/v52.0.0/sdk/contacts)[Crypto](/versions/v52.0.0/sdk/crypto)[DateTimePicker](/versions/v52.0.0/sdk/date-time-picker)[DevClient](/versions/v52.0.0/sdk/dev-client)[Device](/versions/v52.0.0/sdk/device)[DeviceMotion](/versions/v52.0.0/sdk/devicemotion)[DocumentPicker](/versions/v52.0.0/sdk/document-picker)[Encoding](/versions/v52.0.0/sdk/encoding)[FaceDetector](/versions/v52.0.0/sdk/facedetector)[FileSystem](/versions/v52.0.0/sdk/filesystem)[FileSystem (next)

NEW](/versions/v52.0.0/sdk/filesystem-next)[Fingerprint

NEW](/versions/v52.0.0/sdk/fingerprint)[FlashList](/versions/v52.0.0/sdk/flash-list)[Font](/versions/v52.0.0/sdk/font)[GestureHandler](/versions/v52.0.0/sdk/gesture-handler)[GLView](/versions/v52.0.0/sdk/gl-view)[Gyroscope](/versions/v52.0.0/sdk/gyroscope)[Haptics](/versions/v52.0.0/sdk/haptics)[Image](/versions/v52.0.0/sdk/image)[ImageManipulator](/versions/v52.0.0/sdk/imagemanipulator)[ImagePicker](/versions/v52.0.0/sdk/imagepicker)[IntentLauncher](/versions/v52.0.0/sdk/intent-launcher)[KeepAwake](/versions/v52.0.0/sdk/keep-awake)[LightSensor](/versions/v52.0.0/sdk/light-sensor)[LinearGradient](/versions/v52.0.0/sdk/linear-gradient)[Linking](/versions/v52.0.0/sdk/linking)[LivePhoto

NEW](/versions/v52.0.0/sdk/live-photo)[LocalAuthentication](/versions/v52.0.0/sdk/local-authentication)[Localization](/versions/v52.0.0/sdk/localization)[Location](/versions/v52.0.0/sdk/location)[Lottie](/versions/v52.0.0/sdk/lottie)[Magnetometer](/versions/v52.0.0/sdk/magnetometer)[MailComposer](/versions/v52.0.0/sdk/mail-composer)[Manifests](/versions/v52.0.0/sdk/manifests)[Maps

ALPHA](/versions/v52.0.0/sdk/maps)[MapView (react-native-maps)](/versions/v52.0.0/sdk/map-view)[MaskedView](/versions/v52.0.0/sdk/masked-view)[MediaLibrary](/versions/v52.0.0/sdk/media-library)[NavigationBar](/versions/v52.0.0/sdk/navigation-bar)[NetInfo](/versions/v52.0.0/sdk/netinfo)[Network](/versions/v52.0.0/sdk/network)[Notifications](/versions/v52.0.0/sdk/notifications)[Pedometer](/versions/v52.0.0/sdk/pedometer)[Picker](/versions/v52.0.0/sdk/picker)[Print](/versions/v52.0.0/sdk/print)[Reanimated](/versions/v52.0.0/sdk/reanimated)[registerRootComponent](/versions/v52.0.0/sdk/register-root-component)[Router

NEW](/versions/v52.0.0/sdk/router)[Router UI

NEW](/versions/v52.0.0/sdk/router-ui)[SafeAreaContext](/versions/v52.0.0/sdk/safe-area-context)[ScreenCapture](/versions/v52.0.0/sdk/screen-capture)[ScreenOrientation](/versions/v52.0.0/sdk/screen-orientation)[Screens](/versions/v52.0.0/sdk/screens)[SecureStore](/versions/v52.0.0/sdk/securestore)[SegmentedControl](/versions/v52.0.0/sdk/segmented-control)[Sensors](/versions/v52.0.0/sdk/sensors)[Sharing](/versions/v52.0.0/sdk/sharing)[Skia](/versions/v52.0.0/sdk/skia)[Slider](/versions/v52.0.0/sdk/slider)[SMS](/versions/v52.0.0/sdk/sms)[Speech](/versions/v52.0.0/sdk/speech)[SplashScreen](/versions/v52.0.0/sdk/splash-screen)[SQLite](/versions/v52.0.0/sdk/sqlite)[StatusBar](/versions/v52.0.0/sdk/status-bar)[StoreReview](/versions/v52.0.0/sdk/storereview)[Stripe](/versions/v52.0.0/sdk/stripe)[Svg](/versions/v52.0.0/sdk/svg)[Symbols](/versions/v52.0.0/sdk/symbols)[SystemUI](/versions/v52.0.0/sdk/system-ui)[TaskManager](/versions/v52.0.0/sdk/task-manager)[TrackingTransparency](/versions/v52.0.0/sdk/tracking-transparency)[Updates](/versions/v52.0.0/sdk/updates)[URL](/versions/v52.0.0/sdk/url)[Video (expo-av)](/versions/v52.0.0/sdk/video-av)[Video (expo-video)

NEW](/versions/v52.0.0/sdk/video)[VideoThumbnails](/versions/v52.0.0/sdk/video-thumbnails)[ViewPager](/versions/v52.0.0/sdk/view-pager)[WebBrowser](/versions/v52.0.0/sdk/webbrowser)[WebView](/versions/v52.0.0/sdk/webview)

Technical specs

[Expo Updates v1](/technical-specs/expo-updates-1)[Expo Structured Field Values](/technical-specs/expo-sfv-0)

More

[Expo CLI](/more/expo-cli)[create-expo-app](/more/create-expo)[qr.expo.dev](/more/qr-codes)[Glossary of terms](/more/glossary-of-terms)

React Native

[Visit documentation](https://reactnative.dev/docs/components-and-apis)

[Archive](/archive)[Expo Snack](https://snack.expo.dev)[Discord and Forums](https://chat.expo.dev)[Newsletter](https://expo.dev/mailing-list/signup)

Expo AV iconExpo AV
===================

[GitHub](https://github.com/expo/expo/tree/sdk-52/packages/expo-av)[npm](https://www.npmjs.com/package/expo-av)

A universal library that provides separate APIs for Audio and Video playback.

[GitHub](https://github.com/expo/expo/tree/sdk-52/packages/expo-av)[npm](https://www.npmjs.com/package/expo-av)

Android

iOS

tvOS

Web

Bundled version:

~15.0.2

---

The [`Audio.Sound`](/versions/v52.0.0/sdk/audio) objects and [`Video`](/versions/v52.0.0/sdk/video-av) components share a unified imperative API for media playback.

Note that for `Video`, all of the operations are also available via props on the component. However, we recommend using this imperative playback API for most applications where finer control over the state of the video playback is needed.

See the [playlist example app](https://github.com/expo/playlist-example) for an example on the playback API for both `Audio.Sound` and `Video`.

> Audio recording APIs are not available on tvOS (Apple TV).

Installation
------------

Terminal

Copy

`-Â``npx expo install expo-av`

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

Configuration in app config
---------------------------

You can configure `expo-av` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([EAS Build](/build/introduction) or `npx expo run:[android|ios]`). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect.

### Example app.json with config plugin

app.json

Copy

```
{
  "expo": {
    "plugins": [
      [
        "expo-av",
        {
          "microphonePermission": "Allow $(PRODUCT_NAME) to access your microphone."
        }
      ]
    ]
  }
}

```

### Configurable properties

| Name | Default | Description |
| --- | --- | --- |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | Only for:â iOS  A string to set the [`NSMicrophoneUsageDescription`](#permission-nsmicrophoneusagedescription) permission message. |

Are you using this library in an existing React Native app?

If you're not using Continuous Native Generation ([CNG](/workflow/continuous-native-generation)) (you're using native android and ios projects manually), then you need to configure following permissions in your native projects:

* For Android, add `android.permission.RECORD_AUDIO` permission to your project's android/app/src/main/AndroidManifest.xml:

  ```
  <uses-permission android:name="android.permission.RECORD_AUDIO" />

  ```
* For iOS, add `NSMicrophoneUsageDescription` to your project's ios/[app]/Info.plist:

  ```
  <key>NSMicrophoneUsageDescription</key>
  <string>Allow $(PRODUCT_NAME) to access your microphone</string>

  ```

Usage
-----

On this page, we reference operations on `playbackObject`. Here is an example of obtaining access to the reference for both sound and video:

### Example: `Audio.Sound`

```
await Audio.setAudioModeAsync({ playsInSilentModeIOS: true });

const playbackObject = new Audio.Sound();
// OR
const { sound: playbackObject } = await Audio.Sound.createAsync(
  { uri: 'http://foo/bar.mp3' },
  { shouldPlay: true }
);

```

See the [audio documentation](/versions/v52.0.0/sdk/audio-av) for further information on `Audio.Sound.createAsync()`.

### Example: `Video`

```
%%placeholder-start%%... %%placeholder-end%%
_handleVideoRef = component => {
  const playbackObject = component;
  ...
}
%%placeholder-start%%... %%placeholder-end%%

render() {
  return (
      <Video
        ref={this._handleVideoRef}
      />
      %%placeholder-start%%... %%placeholder-end%%
  )
}

```

See the [video documentation](/versions/v52.0.0/sdk/video-av) for further information.

### Example: `setOnPlaybackStatusUpdate()`

```
_onPlaybackStatusUpdate = playbackStatus => {
  if (!playbackStatus.isLoaded) {
    // Update your UI for the unloaded state
    if (playbackStatus.error) {
      console.log(`Encountered a fatal error during playback: ${playbackStatus.error}`);
      // Send Expo team the error on Slack or the forums so we can help you debug!
    }
  } else {
    // Update your UI for the loaded state

    if (playbackStatus.isPlaying) {
      // Update your UI for the playing state
    } else {
      // Update your UI for the paused state
    }

    if (playbackStatus.isBuffering) {
      // Update your UI for the buffering state
    }

    if (playbackStatus.didJustFinish && !playbackStatus.isLooping) {
      // The player has just finished playing and will stop. Maybe you want to play something else?
    }

    %%placeholder-start%%... %%placeholder-end%%
  }
};

// Load the playbackObject and obtain the reference.
playbackObject.setOnPlaybackStatusUpdate(this._onPlaybackStatusUpdate);

```

### Example: Loop media exactly 20 times

```
const N = 20;
%%placeholder-start%%... %%placeholder-end%%

_onPlaybackStatusUpdate = playbackStatus => {
  if (playbackStatus.didJustFinish) {
    if (this.state.numberOfLoops == N - 1) {
      playbackObject.setIsLooping(false);
    }
    this.setState({ numberOfLoops: this.state.numberOfLoops + 1 });
  }
};

%%placeholder-start%%... %%placeholder-end%%
this.setState({ numberOfLoops: 0 });
// Load the playbackObject and obtain the reference.
playbackObject.setOnPlaybackStatusUpdate(this._onPlaybackStatusUpdate);
playbackObject.setIsLooping(true);

```

What is seek tolerance and why would I want to use itâ iOS
------------------------------------------------------------

When asked to seek an A/V item, native player in iOS sometimes may seek to a slightly different time. This technique, mentioned in [Apple documentation](https://developer.apple.com/documentation/avfoundation/avplayer/1387741-seek#discussion), is used to shorten the time of the `seekTo` call (the player may decide to play immediately from a different time than requested, instead of decoding the exact requested part and playing it with the decoding delay).

If precision is important, you can specify the tolerance with which the player will seek. However, this will result in an increased delay.

API
---

```
import { Audio, Video } from 'expo-av';

```

Constants
---------

### `AV._DEFAULT_INITIAL_PLAYBACK_STATUS`

Android

iOS

tvOS

Web

Type: `AVPlaybackStatusToSet`

The default initial `AVPlaybackStatusToSet` of all `Audio.Sound` objects and `Video` components is as follows:

```
{
  progressUpdateIntervalMillis: 500,
  positionMillis: 0,
  shouldPlay: false,
  rate: 1.0,
  shouldCorrectPitch: false,
  volume: 1.0,
  isMuted: false,
  isLooping: false,
}

```

This default initial status can be overwritten by setting the optional `initialStatus` in `loadAsync()` or `Audio.Sound.createAsync()`.

Interfaces
----------

### `AV`

Android

iOS

tvOS

Web

AV Methods

### `getStatusAsync()`

Android

iOS

tvOS

Web

Gets the `AVPlaybackStatus` of the `playbackObject`.

Returns:

`Promise<AVPlaybackStatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject`.

### `setStatusAsync(status)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| status | `AVPlaybackStatusToSet` | The new `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the current playback status. |

  

Sets a new `AVPlaybackStatusToSet` on the `playbackObject`. This method can only be called if the media has been loaded.

Returns:

`Promise<AVPlaybackStatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once the new status has been set successfully,
or rejects if setting the new status failed. See below for details on `AVPlaybackStatus`.

### `Playback`

Android

iOS

tvOS

Web

Extends: `AV`

On the `playbackObject` reference, the following API is provided.

Playback Methods

### `loadAsync(source, initialStatus, downloadAsync)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| source | `AVPlaybackSource` | The source of the media. |
| initialStatus(optional) | `AVPlaybackStatusToSet` | The initial intended `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the default initial playback status. This value defaults to `{}` if no parameter is passed. For more information see the details on `AVPlaybackStatusToSet` type and the default initial playback status. |
| downloadAsync(optional) | `boolean` | If set to `true`, the system will attempt to download the resource to the device before loading. This value defaults to `true`. Note that at the moment, this will only work for `source`s of the form `require('path/to/file')` or `Asset` objects. |

  

Loads the media from `source` into memory and prepares it for playing. This must be called before calling `setStatusAsync()`
or any of the convenience set status methods. This method can only be called if the `playbackObject` is in an unloaded state.

Returns:

`Promise<AVPlaybackStatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once it is loaded, or rejects if loading failed.
The `Promise` will also reject if the `playbackObject` was already loaded. See below for details on `AVPlaybackStatus`.

### `pauseAsync()`

Android

iOS

tvOS

Web

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: false })`.

Returns:

`Promise<AVPlaybackStatus>`

### `playAsync()`

Android

iOS

tvOS

Web

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: true })`.

Playback may not start immediately after calling this function for reasons such as buffering. Make sure to update your UI based
on the `isPlaying` and `isBuffering` properties of the `AVPlaybackStatus`.

Returns:

`Promise<AVPlaybackStatus>`

### `playFromPositionAsync(positionMillis, tolerances)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| positionMillis | `number` | The desired position of playback in milliseconds. |
| tolerances(optional) | `AVPlaybackTolerance` | The tolerances are used only on iOS ([more details](#what-is-seek-tolerance-and-why-would-i-want-to-use-it)). |

  

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: true, positionMillis, seekMillisToleranceAfter: tolerances.seekMillisToleranceAfter, seekMillisToleranceBefore: tolerances.seekMillisToleranceBefore })`.

Playback may not start immediately after calling this function for reasons such as buffering. Make sure to update your UI based
on the `isPlaying` and `isBuffering` properties of the `AVPlaybackStatus`.

Returns:

`Promise<AVPlaybackStatus>`

### `replayAsync(status)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| status | `AVPlaybackStatusToSet` | The new `AVPlaybackStatusToSet` of the `playbackObject`, whose values will override the current playback status. `positionMillis` and `shouldPlay` properties will be overridden with respectively `0` and `true`. |

  

Replays the playback item. When using `playFromPositionAsync(0)` the item is seeked to the position at `0 ms`.
On iOS this method uses internal implementation of the player and is able to play the item from the beginning immediately.

Returns:

`Promise<AVPlaybackStatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once the new status has been set successfully,
or rejects if setting the new status failed.

### `setIsLoopingAsync(isLooping)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| isLooping | `boolean` | A boolean describing if the media should play once (`false`) or loop indefinitely (`true`). |

  

This is equivalent to `playbackObject.setStatusAsync({ isLooping })`.

Returns:

`Promise<AVPlaybackStatus>`

### `setIsMutedAsync(isMuted)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| isMuted | `boolean` | A boolean describing if the audio of this media should be muted. |

  

This is equivalent to `playbackObject.setStatusAsync({ isMuted })`.

Returns:

`Promise<AVPlaybackStatus>`

### `setPositionAsync(positionMillis, tolerances)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| positionMillis | `number` | The desired position of playback in milliseconds. |
| tolerances(optional) | `AVPlaybackTolerance` | The tolerances are used only on iOS ([more details](#what-is-seek-tolerance-and-why-would-i-want-to-use-it)). |

  

This is equivalent to `playbackObject.setStatusAsync({ positionMillis })`.

Returns:

`Promise<AVPlaybackStatus>`

### `setProgressUpdateIntervalAsync(progressUpdateIntervalMillis)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| progressUpdateIntervalMillis | `number` | The new minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details. |

  

This is equivalent to `playbackObject.setStatusAsync({ progressUpdateIntervalMillis })`.

Returns:

`Promise<AVPlaybackStatus>`

### `setRateAsync(rate, shouldCorrectPitch, pitchCorrectionQuality)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| rate | `number` | The desired playback rate of the media. This value must be between `0.0` and `32.0`. Only available on Android API version 23 and later and iOS. |
| shouldCorrectPitch | `boolean` | A boolean describing if we should correct the pitch for a changed rate. If set to `true`, the pitch of the audio will be corrected (so a rate different than `1.0` will timestretch the audio). |
| pitchCorrectionQuality(optional) | `PitchCorrectionQuality` | iOS time pitch algorithm setting, defaults to `Audio.PitchCorrectionQuality.Medium`. Using `Audio.PitchCorrectionQuality.Low` may cause automatic playback rate changes on iOS >= 17, as `AVAudioTimePitchAlgorithmLowQualityZeroLatency` is deprecated. |

  

This is equivalent to `playbackObject.setStatusAsync({ rate, shouldCorrectPitch, pitchCorrectionQuality })`.

Returns:

`Promise<AVPlaybackStatus>`

### `setVolumeAsync(volume, audioPan)`

Android

iOS

tvOS

Web

| Parameter | Type | Description |
| --- | --- | --- |
| volume | `number` | A number between `0.0` (silence) and `1.0` (maximum volume). |
| audioPan(optional) | `number` | A number between `-1.0` (full left) and `1.0` (full right). |

  

This is equivalent to `playbackObject.setStatusAsync({ volume, audioPan })`.
Note: `audioPan` is currently only supported on Android using `androidImplementation: 'MediaPlayer'`

Returns:

`Promise<AVPlaybackStatus>`

### `stopAsync()`

Android

iOS

tvOS

Web

This is equivalent to `playbackObject.setStatusAsync({ shouldPlay: false, positionMillis: 0 })`.

Returns:

`Promise<AVPlaybackStatus>`

### `unloadAsync()`

Android

iOS

tvOS

Web

Unloads the media from memory. `loadAsync()` must be called again in order to be able to play the media.

> This cleanup function will be automatically called in the `Video` component's `componentWillUnmount`.

Returns:

`Promise<AVPlaybackStatus>`

A `Promise` that is fulfilled with the `AVPlaybackStatus` of the `playbackObject` once it is unloaded, or rejects if unloading failed.

Types
-----

### `AVMetadata`

Android

iOS

tvOS

Web

Object passed to the `onMetadataUpdate` function.

| Property | Type | Description |
| --- | --- | --- |
| title(optional) | `string` | A string with the title of the sound object. |

### `AVPlaybackSource`

Android

iOS

tvOS

Web

Literal Type: `union`

The following forms of source are supported:

* A dictionary of the form `AVPlaybackSourceObject`.
  The `overrideFileExtensionAndroid` property may come in handy if the player receives an URL like `example.com/play` which redirects to `example.com/player.m3u8`.
  Setting this property to `m3u8` would allow the Android player to properly infer the content type of the media and use proper media file reader.
* `require('path/to/file')` for a media file asset in the source code directory.
* An [`Asset`](/versions/v52.0.0/sdk/asset) object for a media file asset.

The [iOS developer documentation](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/MediaLayer/MediaLayer.html)
lists the audio and video formats supported on iOS.

There are two sets of audio and video formats supported on Android: [formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html)
and [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table).
Expo uses ExoPlayer implementation by default. To use `MediaPlayer`, add `androidImplementation: 'MediaPlayer'` to the initial status of the AV object.

Acceptable values are: `number` | `AVPlaybackSourceObject` | `Asset`

### `AVPlaybackSourceObject`

Android

iOS

tvOS

Web

One of the possible forms of the `AVPlaybackSource`.

| Property | Type | Description |
| --- | --- | --- |
| headers(optional) | `Record<string, string>` | An optional headers object passed in a network request. |
| overrideFileExtensionAndroid(optional) | `string` | Only for:â Android  An optional string overriding extension inferred from the URL. |
| uri | `string` | A network URL pointing to a media file. |

### `AVPlaybackStatus`

Android

iOS

tvOS

Web

Literal Type: `union`

This is the structure returned from all playback API calls and describes the state of the `playbackObject` at that point in time.
It can take a form of `AVPlaybackStatusSuccess` or `AVPlaybackStatusError` based on the `playbackObject` load status.

Acceptable values are: `AVPlaybackStatusError` | `AVPlaybackStatusSuccess`

### `AVPlaybackStatusError`

Android

iOS

tvOS

Web

| Property | Type | Description |
| --- | --- | --- |
| androidImplementation(optional) | `string` | Only for:â Android  Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)).  Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| error(optional) | `string` | A string only present if the `playbackObject` just encountered a fatal error and forced unload. Populated exactly once when an error forces the object to unload. |
| isLoaded | `false` | A boolean set to `false`. |

### `AVPlaybackStatusSuccess`

Android

iOS

tvOS

Web

| Property | Type | Description |
| --- | --- | --- |
| androidImplementation(optional) | `string` | Only for:â Android  Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)).  Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| audioPan | `number` | The current audio panning value of the audio for this media. |
| didJustFinish | `boolean` | A boolean describing if the media just played to completion at the time that this status was received. When the media plays to completion, the function passed in `setOnPlaybackStatusUpdate()` is called exactly once with `didJustFinish` set to `true`. `didJustFinish` is never `true` in any other case. |
| durationMillis(optional) | `number` | The duration of the media in milliseconds. This is only present if the media has a duration.  Note that in some cases, a media file's duration is readable on Android, but not on iOS. |
| isBuffering | `boolean` | A boolean describing if the media is currently buffering. |
| isLoaded | `true` | A boolean set to `true`. |
| isLooping | `boolean` | A boolean describing if the media is currently looping. |
| isMuted | `boolean` | A boolean describing if the audio of this media is currently muted. |
| isPlaying | `boolean` | A boolean describing if the media is currently playing. |
| pitchCorrectionQuality(optional) | `PitchCorrectionQuality` | iOS time pitch algorithm setting. See `setRateAsync` for details. |
| playableDurationMillis(optional) | `number` | The position until which the media has been buffered into memory. Like `durationMillis`, this is only present in some cases. |
| positionMillis | `number` | The current position of playback in milliseconds. |
| progressUpdateIntervalMillis | `number` | The minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details. |
| rate | `number` | The current rate of the media. |
| seekMillisToleranceAfter(optional) | `number` | - |
| seekMillisToleranceBefore(optional) | `number` | - |
| shouldCorrectPitch | `boolean` | A boolean describing if we are correcting the pitch for a changed rate. |
| shouldPlay | `boolean` | A boolean describing if the media is supposed to play. |
| uri | `string` | The location of the media source. |
| volume | `number` | The current volume of the audio for this media. |

### `AVPlaybackStatusToSet`

Android

iOS

tvOS

Web

This is the structure passed to `setStatusAsync()` to modify the state of the `playbackObject`.

| Property | Type | Description |
| --- | --- | --- |
| androidImplementation(optional) | `string` | Only for:â Android  Underlying implementation to use (when set to `MediaPlayer` it uses [Android's MediaPlayer](https://developer.android.com/reference/android/media/MediaPlayer.html), uses [ExoPlayer](https://exoplayer.dev/) otherwise). You may need to use this property if you're trying to play an item unsupported by ExoPlayer ([formats supported by ExoPlayer](https://exoplayer.dev/supported-formats.html), [formats supported by Android's MediaPlayer](https://developer.android.com/guide/topics/media/platform/supported-formats#formats-table)).  Note that setting this property takes effect only when the AV object is just being created (toggling its value later will do nothing). |
| audioPan(optional) | `number` | Only for:â Android  The current audio panning value of the audio for this media.  Note that this only affect the audio of this `playbackObject` and do NOT affect the system volume. Also note that this is only available when the video was loaded using `androidImplementation: 'MediaPlayer'` |
| isLooping(optional) | `boolean` | A boolean describing if the media is currently looping. |
| isMuted(optional) | `boolean` | A boolean describing if the audio of this media is currently muted.  Note that this only affect the audio of this `playbackObject` and do NOT affect the system volume. |
| pitchCorrectionQuality(optional) | `PitchCorrectionQuality` | iOS time pitch algorithm setting. See `setRateAsync` for details. |
| positionMillis(optional) | `number` | The current position of playback in milliseconds. |
| progressUpdateIntervalMillis(optional) | `number` | The minimum interval in milliseconds between calls of `onPlaybackStatusUpdate`. See `setOnPlaybackStatusUpdate()` for details. |
| rate(optional) | `number` | Only for:â Android API 23+  iOS  The current rate of the media. |
| seekMillisToleranceAfter(optional) | `number` | - |
| seekMillisToleranceBefore(optional) | `number` | - |
| shouldCorrectPitch(optional) | `boolean` | A boolean describing if we are correcting the pitch for a changed rate. |
| shouldPlay(optional) | `boolean` | A boolean describing if the media is supposed to play. |
| volume(optional) | `number` | The current volume of the audio for this media.  Note that this only affect the audio of this `playbackObject` and do NOT affect the system volume. |

### `AVPlaybackTolerance`

Android

iOS

tvOS

Web

| Property | Type | Description |
| --- | --- | --- |
| toleranceMillisAfter(optional) | `number` | - |
| toleranceMillisBefore(optional) | `number` | - |

Enums
-----

### `PitchCorrectionQuality`

Android

iOS

tvOS

Web

Check [official Apple documentation](https://developer.apple.com/documentation/avfoundation/audio_settings/time_pitch_algorithm_settings) for more information.

#### `High`

`PitchCorrectionQuality.High ï¼ number`

Equivalent to `AVAudioTimePitchAlgorithmSpectral`.

#### `Low`

`PitchCorrectionQuality.Low ï¼ number`

Equivalent to `AVAudioTimePitchAlgorithmLowQualityZeroLatency`.

#### `Medium`

`PitchCorrectionQuality.Medium ï¼ number`

Equivalent to `AVAudioTimePitchAlgorithmTimeDomain`.

Permissions
-----------

### Android

You must add the following permissions to your app.json inside the [`expo.android.permissions`](/versions/v52.0.0/config/app#permissions) array.

| Android Permission | Description |
| --- | --- |
| `RECORD_AUDIO` | Allows an application to record audio. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key | Description |
| --- | --- |
| `NSMicrophoneUsageDescription` | A message that tells the user why the app is requesting access to the deviceâs microphone. |

[Previous (Expo SDK)

AuthSession](/versions/v52.0.0/sdk/auth-session)[Next (Expo SDK)

BackgroundFetch](/versions/v52.0.0/sdk/background-fetch)

Was this doc helpful?

* Share your feedback
* [Ask a question on the forums about AV](https://chat.expo.dev/)
* [View open bug reports for AV](https://github.com/expo/expo/labels/AV)
* [Edit this page](https://github.com/expo/expo/edit/main/docs/pages/versions/v52.0.0/sdk/av.mdx)

Sign up for the Expo Newsletter

Sign Up

Unsubscribe at any time. Read our [privacy policy](https://expo.dev/privacy).

On this page

[Installation](/versions/v52.0.0/sdk/av/#installation)[Configuration in app config](/versions/v52.0.0/sdk/av/#configuration-in-app-config)[Example app.json with config plugin](/versions/v52.0.0/sdk/av/#example-appjson-with-config-plugin)[Configurable properties](/versions/v52.0.0/sdk/av/#configurable-properties)[Usage](/versions/v52.0.0/sdk/av/#usage)[Example: Audio.Sound](/versions/v52.0.0/sdk/av/#example-audiosound)[Example: Video](/versions/v52.0.0/sdk/av/#example-video)[Example: setOnPlaybackStatusUpdate()](/versions/v52.0.0/sdk/av/#example-setonplaybackstatusupdate)[Example: Loop media exactly 20 times](/versions/v52.0.0/sdk/av/#example-loop-media-exactly-20-times)[What is seek tolerance and why would I want to use itâ](/versions/v52.0.0/sdk/av/#what-is-seek-tolerance-and-why-would-i-want-to-use-it)[API](/versions/v52.0.0/sdk/av/#api)[Constants](/versions/v52.0.0/sdk/av/#constants)[`_DEFAULT_INITIAL_PLAYBACK_STATUS`](/versions/v52.0.0/sdk/av/#av_default_initial_playback_status)[Interfaces](/versions/v52.0.0/sdk/av/#interfaces)[`AV`](/versions/v52.0.0/sdk/av/#av)[`getStatusAsync()`](/versions/v52.0.0/sdk/av/#getstatusasync)[`setStatusAsync()`](/versions/v52.0.0/sdk/av/#setstatusasyncstatus)[`Playback`](/versions/v52.0.0/sdk/av/#playback)[`loadAsync()`](/versions/v52.0.0/sdk/av/#loadasyncsource-initialstatus-downloadasync)[`pauseAsync()`](/versions/v52.0.0/sdk/av/#pauseasync)[`playAsync()`](/versions/v52.0.0/sdk/av/#playasync)[`playFromPositionAsync()`](/versions/v52.0.0/sdk/av/#playfrompositionasyncpositionmillis-tolerances)[`replayAsync()`](/versions/v52.0.0/sdk/av/#replayasyncstatus)[`setIsLoopingAsync()`](/versions/v52.0.0/sdk/av/#setisloopingasyncislooping)[`setIsMutedAsync()`](/versions/v52.0.0/sdk/av/#setismutedasyncismuted)[`setPositionAsync()`](/versions/v52.0.0/sdk/av/#setpositionasyncpositionmillis-tolerances)[`setProgressUpdateIntervalAsync()`](/versions/v52.0.0/sdk/av/#setprogressupdateintervalasyncprogressupdateintervalmillis)[`setRateAsync()`](/versions/v52.0.0/sdk/av/#setrateasyncrate-shouldcorrectpitch-pitchcorrectionquality)[`setVolumeAsync()`](/versions/v52.0.0/sdk/av/#setvolumeasyncvolume-audiopan)[`stopAsync()`](/versions/v52.0.0/sdk/av/#stopasync)[`unloadAsync()`](/versions/v52.0.0/sdk/av/#unloadasync)[Types](/versions/v52.0.0/sdk/av/#types)[`AVMetadata`](/versions/v52.0.0/sdk/av/#avmetadata)[`AVPlaybackSource`](/versions/v52.0.0/sdk/av/#avplaybacksource)[`AVPlaybackSourceObject`](/versions/v52.0.0/sdk/av/#avplaybacksourceobject)[`AVPlaybackStatus`](/versions/v52.0.0/sdk/av/#avplaybackstatus)[`AVPlaybackStatusError`](/versions/v52.0.0/sdk/av/#avplaybackstatuserror)[`AVPlaybackStatusSuccess`](/versions/v52.0.0/sdk/av/#avplaybackstatussuccess)[`AVPlaybackStatusToSet`](/versions/v52.0.0/sdk/av/#avplaybackstatustoset)[`AVPlaybackTolerance`](/versions/v52.0.0/sdk/av/#avplaybacktolerance)[Enums](/versions/v52.0.0/sdk/av/#enums)[`PitchCorrectionQuality`](/versions/v52.0.0/sdk/av/#pitchcorrectionquality)[Permissions](/versions/v52.0.0/sdk/av/#permissions)[Android](/versions/v52.0.0/sdk/av/#android)[RECORD\_AUDIO](/versions/v52.0.0/sdk/av/#permission-record_audio)[iOS](/versions/v52.0.0/sdk/av/#ios)[NSMicrophoneUsageDescription](/versions/v52.0.0/sdk/av/#permission-nsmicrophoneusagedescription)