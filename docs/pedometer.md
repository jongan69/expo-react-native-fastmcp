Pedometer - Expo Documentation

[Docs](/)

[Blog](https://expo.dev/blog)[Changelog](https://expo.dev/changelog)[Star Us on GitHub](https://github.com/expo/expo)

Search

[Home](/)[Guides](/guides/overview)[EAS](/eas)[Reference](/versions/latest)[Learn](/tutorial/overview)

Reference version

Configuration files

[app.json / app.config.js](/versions/v53.0.0/config/app)[babel.config.js](/versions/v53.0.0/config/babel)[metro.config.js](/versions/v53.0.0/config/metro)[package.json](/versions/v53.0.0/config/package-json)

Expo SDK

[Expo](/versions/v53.0.0/sdk/expo)[Accelerometer](/versions/v53.0.0/sdk/accelerometer)[AppleAuthentication](/versions/v53.0.0/sdk/apple-authentication)[Application](/versions/v53.0.0/sdk/application)[Asset](/versions/v53.0.0/sdk/asset)[Audio (expo-audio)](/versions/v53.0.0/sdk/audio)[Audio (expo-av)](/versions/v53.0.0/sdk/audio-av)[AuthSession](/versions/v53.0.0/sdk/auth-session)[AV](/versions/v53.0.0/sdk/av)[BackgroundFetch](/versions/v53.0.0/sdk/background-fetch)[BackgroundTask

NEW](/versions/v53.0.0/sdk/background-task)[Barometer](/versions/v53.0.0/sdk/barometer)[Battery](/versions/v53.0.0/sdk/battery)[BlurView](/versions/v53.0.0/sdk/blur-view)[Brightness](/versions/v53.0.0/sdk/brightness)[BuildProperties](/versions/v53.0.0/sdk/build-properties)[Calendar](/versions/v53.0.0/sdk/calendar)[Camera](/versions/v53.0.0/sdk/camera)[Cellular](/versions/v53.0.0/sdk/cellular)[Checkbox](/versions/v53.0.0/sdk/checkbox)[Clipboard](/versions/v53.0.0/sdk/clipboard)[Constants](/versions/v53.0.0/sdk/constants)[Contacts](/versions/v53.0.0/sdk/contacts)[Crypto](/versions/v53.0.0/sdk/crypto)[DevClient](/versions/v53.0.0/sdk/dev-client)[Device](/versions/v53.0.0/sdk/device)[DeviceMotion](/versions/v53.0.0/sdk/devicemotion)[DocumentPicker](/versions/v53.0.0/sdk/document-picker)[FileSystem](/versions/v53.0.0/sdk/filesystem)[FileSystem (next)](/versions/v53.0.0/sdk/filesystem-next)[Fingerprint

NEW](/versions/v53.0.0/sdk/fingerprint)[Font](/versions/v53.0.0/sdk/font)[GLView](/versions/v53.0.0/sdk/gl-view)[Gyroscope](/versions/v53.0.0/sdk/gyroscope)[Haptics](/versions/v53.0.0/sdk/haptics)[Image](/versions/v53.0.0/sdk/image)[ImageManipulator](/versions/v53.0.0/sdk/imagemanipulator)[ImagePicker](/versions/v53.0.0/sdk/imagepicker)[IntentLauncher](/versions/v53.0.0/sdk/intent-launcher)[KeepAwake](/versions/v53.0.0/sdk/keep-awake)[LightSensor](/versions/v53.0.0/sdk/light-sensor)[LinearGradient](/versions/v53.0.0/sdk/linear-gradient)[Linking](/versions/v53.0.0/sdk/linking)[LivePhoto](/versions/v53.0.0/sdk/live-photo)[LocalAuthentication](/versions/v53.0.0/sdk/local-authentication)[Localization](/versions/v53.0.0/sdk/localization)[Location](/versions/v53.0.0/sdk/location)[Magnetometer](/versions/v53.0.0/sdk/magnetometer)[MailComposer](/versions/v53.0.0/sdk/mail-composer)[Manifests](/versions/v53.0.0/sdk/manifests)[Maps

ALPHA](/versions/v53.0.0/sdk/maps)[MediaLibrary](/versions/v53.0.0/sdk/media-library)[MeshGradient

NEW](/versions/v53.0.0/sdk/mesh-gradient)[NavigationBar](/versions/v53.0.0/sdk/navigation-bar)[Network](/versions/v53.0.0/sdk/network)[Notifications](/versions/v53.0.0/sdk/notifications)[Pedometer](/versions/v53.0.0/sdk/pedometer)[Print](/versions/v53.0.0/sdk/print)[Router](/versions/v53.0.0/sdk/router)[Router UI](/versions/v53.0.0/sdk/router-ui)[ScreenCapture](/versions/v53.0.0/sdk/screen-capture)[ScreenOrientation](/versions/v53.0.0/sdk/screen-orientation)[SecureStore](/versions/v53.0.0/sdk/securestore)[Sensors](/versions/v53.0.0/sdk/sensors)[Sharing](/versions/v53.0.0/sdk/sharing)[SMS](/versions/v53.0.0/sdk/sms)[Speech](/versions/v53.0.0/sdk/speech)[SplashScreen](/versions/v53.0.0/sdk/splash-screen)[SQLite](/versions/v53.0.0/sdk/sqlite)[StatusBar](/versions/v53.0.0/sdk/status-bar)[StoreReview](/versions/v53.0.0/sdk/storereview)[Symbols](/versions/v53.0.0/sdk/symbols)[SystemUI](/versions/v53.0.0/sdk/system-ui)[TaskManager](/versions/v53.0.0/sdk/task-manager)[TrackingTransparency](/versions/v53.0.0/sdk/tracking-transparency)[UI

ALPHA](/versions/v53.0.0/sdk/ui)[Updates](/versions/v53.0.0/sdk/updates)[Video (expo-av)](/versions/v53.0.0/sdk/video-av)[Video (expo-video)](/versions/v53.0.0/sdk/video)[VideoThumbnails](/versions/v53.0.0/sdk/video-thumbnails)[WebBrowser](/versions/v53.0.0/sdk/webbrowser)

Third-party libraries

[Overview](/versions/v53.0.0/sdk/third-party-overview)[@react-native-async-storage/async-storage](/versions/v53.0.0/sdk/async-storage)[@react-native-community/datetimepicker](/versions/v53.0.0/sdk/date-time-picker)[@react-native-community/netinfo](/versions/v53.0.0/sdk/netinfo)[@react-native-community/slider](/versions/v53.0.0/sdk/slider)[@react-native-masked-view/masked-view](/versions/v53.0.0/sdk/masked-view)[@react-native-picker/picker](/versions/v53.0.0/sdk/picker)[@react-native-segmented-control/segmented-control](/versions/v53.0.0/sdk/segmented-control)[@shopify/flash-list](/versions/v53.0.0/sdk/flash-list)[@shopify/react-native-skia](/versions/v53.0.0/sdk/skia)[@stripe/stripe-react-native](/versions/v53.0.0/sdk/stripe)[lottie-react-native](/versions/v53.0.0/sdk/lottie)[react-native-gesture-handler](/versions/v53.0.0/sdk/gesture-handler)[react-native-maps](/versions/v53.0.0/sdk/map-view)[react-native-pager-view](/versions/v53.0.0/sdk/view-pager)[react-native-reanimated](/versions/v53.0.0/sdk/reanimated)[react-native-safe-area-context](/versions/v53.0.0/sdk/safe-area-context)[react-native-screens](/versions/v53.0.0/sdk/screens)[react-native-svg](/versions/v53.0.0/sdk/svg)[react-native-view-shot](/versions/v53.0.0/sdk/captureRef)[react-native-webview](/versions/v53.0.0/sdk/webview)

Technical specs

[Expo Updates v1](/technical-specs/expo-updates-1)[Expo Structured Field Values](/technical-specs/expo-sfv-0)

More

[Expo CLI](/more/expo-cli)[create-expo-app](/more/create-expo)[qr.expo.dev](/more/qr-codes)[Glossary of terms](/more/glossary-of-terms)

React Native

[Visit documentation](https://reactnative.dev/docs/components-and-apis)

[Archive](/archive)[Expo Snack](https://snack.expo.dev)[Discord and Forums](https://chat.expo.dev)[Newsletter](https://expo.dev/mailing-list/signup)

Expo Pedometer iconExpo Pedometer
=================================

[GitHub](https://github.com/expo/expo/tree/sdk-53/packages/expo-sensors)[npm](https://www.npmjs.com/package/expo-sensors)

A library that provides access to the device's pedometer sensor.

[GitHub](https://github.com/expo/expo/tree/sdk-53/packages/expo-sensors)[npm](https://www.npmjs.com/package/expo-sensors)

Android

iOS

Bundled version:

~14.1.4

---

`Pedometer` from `expo-sensors` uses the system `hardware.Sensor` on Android and Core Motion on iOS to get the user's step count, and also allows you to subscribe to pedometer updates.

Installation
------------

Terminal

Copy

`-Â``npx expo install expo-sensors`

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

Usage
-----

Pedometer

Copy

Open in Snack

```
import { useState, useEffect } from 'react';
import { StyleSheet, Text, View } from 'react-native';
import { Pedometer } from 'expo-sensors';

export default function App() {
  const [isPedometerAvailable, setIsPedometerAvailable] = useState('checking');
  const [pastStepCount, setPastStepCount] = useState(0);
  const [currentStepCount, setCurrentStepCount] = useState(0);

  const subscribe = async () => {
    const isAvailable = await Pedometer.isAvailableAsync();
    setIsPedometerAvailable(String(isAvailable));

    if (isAvailable) {
      const end = new Date();
      const start = new Date();
      start.setDate(end.getDate() - 1);

      const pastStepCountResult = await Pedometer.getStepCountAsync(start, end);
      if (pastStepCountResult) {
        setPastStepCount(pastStepCountResult.steps);
      }

      return Pedometer.watchStepCount(result => {
        setCurrentStepCount(result.steps);
      });
    }
  };

  useEffect(() => {
    const subscription = subscribe();
    return () => subscription && subscription.remove();
  }, []);

  return (
    <View style={styles.container}>
      <Text>Pedometer.isAvailableAsync(): {isPedometerAvailable}</Text>
      <Text>Steps taken in the last 24 hours: {pastStepCount}</Text>
      <Text>Walk! And watch this go up: {currentStepCount}</Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    marginTop: 15,
    alignItems: 'center',
    justifyContent: 'center',
  },
});

```

API
---

```
import { Pedometer } from 'expo-sensors';

```

Methods
-------

### `Pedometer.getPermissionsAsync()`

Checks user's permissions for accessing pedometer.

Returns:

`Promise<PermissionResponse>`

### `Pedometer.getStepCountAsync(start, end)`

Only for:â

iOS

| Parameter | Type | Description |
| --- | --- | --- |
| start | `Date` | A date indicating the start of the range over which to measure steps. |
| end | `Date` | A date indicating the end of the range over which to measure steps. |

  

Get the step count between two dates.

Returns:

`Promise<PedometerResult>`

Returns a promise that fulfills with a [`PedometerResult`](#pedometerresult).

As [Apple documentation states](https://developer.apple.com/documentation/coremotion/cmpedometer/1613946-querypedometerdatafromdate?language=objc):

> Only the past seven days worth of data is stored and available for you to retrieve. Specifying
> a start date that is more than seven days in the past returns only the available data.

### `Pedometer.isAvailableAsync()`

Returns whether the pedometer is enabled on the device.

Returns:

`Promise<boolean>`

Returns a promise that fulfills with a `boolean`, indicating whether the pedometer is
available on this device.

### `Pedometer.requestPermissionsAsync()`

Asks the user to grant permissions for accessing pedometer.

Returns:

`Promise<PermissionResponse>`

### `Pedometer.watchStepCount(callback)`

| Parameter | Type | Description |
| --- | --- | --- |
| callback | `PedometerUpdateCallback` | A callback that is invoked when new step count data is available. The callback is provided with a single argument that is [`PedometerResult`](#pedometerresult). |

  

Subscribe to pedometer updates.

Returns:

`EventSubscription`

Returns a [`Subscription`](#subscription) that enables you to call
`remove()` when you would like to unsubscribe the listener.

> Pedometer updates will not be delivered while the app is in the background. As an alternative, on Android, use another solution based on
> [`Health Connect API`](https://developer.android.com/health-and-fitness/guides/health-connect).
> On iOS, the `getStepCountAsync` method can be used to get the step count between two dates.

Interfaces
----------

### `Subscription`

A subscription object that allows to conveniently remove an event listener from the emitter.

Subscription Methods

### `remove()`

Removes an event listener for which the subscription has been created.
After calling this function, the listener will no longer receive any events from the emitter.

Returns:

`void`

Types
-----

### `PedometerResult`

| Property | Type | Description |
| --- | --- | --- |
| steps | `number` | Number of steps taken between the given dates. |

### `PedometerUpdateCallback(result)`

Callback function providing event result as an argument.

| Parameter | Type |
| --- | --- |
| result | `PedometerResult` |

Returns:

`void`

### `PermissionExpiration`

Literal Type: `union`

Permission expiration time. Currently, all permissions are granted permanently.

Acceptable values are: `'never'` | `number`

### `PermissionResponse`

An object obtained by permissions get and request functions.

| Property | Type | Description |
| --- | --- | --- |
| canAskAgain | `boolean` | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires | `PermissionExpiration` | Determines time when the permission expires. |
| granted | `boolean` | A convenience boolean that indicates if the permission is granted. |
| status | `PermissionStatus` | Determines the status of the permission. |

Enums
-----

### `PermissionStatus`

#### `DENIED`

`PermissionStatus.DENIED ï¼ "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED ï¼ "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED ï¼ "undetermined"`

User hasn't granted or denied the permission yet.

[Previous (Expo SDK)

Notifications](/versions/v53.0.0/sdk/notifications)[Next (Expo SDK)

Print](/versions/v53.0.0/sdk/print)

Was this doc helpful?

* Share your feedback
* [Ask a question on the forums about Pedometer](https://chat.expo.dev/)
* [View open bug reports for Pedometer](https://github.com/expo/expo/labels/Pedometer)
* [Edit this page](https://github.com/expo/expo/edit/main/docs/pages/versions/v53.0.0/sdk/pedometer.mdx)

Sign up for the Expo Newsletter

Sign Up

Unsubscribe at any time. Read our [privacy policy](https://expo.dev/privacy).

On this page

[Installation](/versions/v53.0.0/sdk/pedometer/#installation)[Usage](/versions/v53.0.0/sdk/pedometer/#usage)[API](/versions/v53.0.0/sdk/pedometer/#api)[Methods](/versions/v53.0.0/sdk/pedometer/#methods)[`getPermissionsAsync()`](/versions/v53.0.0/sdk/pedometer/#pedometergetpermissionsasync)[`getStepCountAsync()`](/versions/v53.0.0/sdk/pedometer/#pedometergetstepcountasyncstart-end)[`isAvailableAsync()`](/versions/v53.0.0/sdk/pedometer/#pedometerisavailableasync)[`requestPermissionsAsync()`](/versions/v53.0.0/sdk/pedometer/#pedometerrequestpermissionsasync)[`watchStepCount()`](/versions/v53.0.0/sdk/pedometer/#pedometerwatchstepcountcallback)[Interfaces](/versions/v53.0.0/sdk/pedometer/#interfaces)[`Subscription`](/versions/v53.0.0/sdk/pedometer/#subscription)[`remove()`](/versions/v53.0.0/sdk/pedometer/#remove)[Types](/versions/v53.0.0/sdk/pedometer/#types)[`PedometerResult`](/versions/v53.0.0/sdk/pedometer/#pedometerresult)[`PedometerUpdateCallback()`](/versions/v53.0.0/sdk/pedometer/#pedometerupdatecallbackresult)[`PermissionExpiration`](/versions/v53.0.0/sdk/pedometer/#permissionexpiration)[`PermissionResponse`](/versions/v53.0.0/sdk/pedometer/#permissionresponse)[Enums](/versions/v53.0.0/sdk/pedometer/#enums)[`PermissionStatus`](/versions/v53.0.0/sdk/pedometer/#permissionstatus)