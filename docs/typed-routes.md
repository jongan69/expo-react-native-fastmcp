Typed routes - Expo Documentation

[Docs](/)

[Blog](https://expo.dev/blog)[Changelog](https://expo.dev/changelog)[Star Us on GitHub](https://github.com/expo/expo)

Search

[Home](/)[Guides](/guides/overview)[EAS](/eas)[Reference](/versions/latest)[Learn](/tutorial/overview)

[Overview](/guides/overview)

Development process

[Develop an app with Expo](/workflow/overview)[Configure with app config](/workflow/configuration)[Continuous Native Generation](/workflow/continuous-native-generation)[Using libraries](/workflow/using-libraries)[Privacy manifests](/guides/apple-privacy)[Permissions](/guides/permissions)[Environment variables](/guides/environment-variables)

Linking

Write native code

Compile locally

Web

Bundling

Existing React Native apps

Existing native apps

Reference

Expo Router

[Introduction](/router/introduction)[Installation](/router/installation)

Router 101

Navigation patterns

Advanced

Reference

[Error handling](/router/error-handling)[URL parameters](/router/reference/url-parameters)[Redirects](/router/reference/redirects)[Static Rendering](/router/reference/static-rendering)[Async routes](/router/reference/async-routes)[API Routes](/router/reference/api-routes)[Sitemap](/router/reference/sitemap)[Typed routes](/router/reference/typed-routes)[Screen tracking for analytics](/router/reference/screen-tracking)[Top-level src directory](/router/reference/src-directory)[Testing](/router/reference/testing)[Troubleshooting](/router/reference/troubleshooting)

Migration

Expo Modules API

[Overview](/modules/overview)[Get started](/modules/get-started)

Tutorials

Reference

Push notifications

[Overview](/push-notifications/overview)[About notification types](/push-notifications/what-you-need-to-know)[Expo push notifications setup](/push-notifications/push-notifications-setup)[Send notifications with the Expo Push Service](/push-notifications/sending-notifications)[Handle incoming notifications](/push-notifications/receiving-notifications)

Reference

More

[Upgrade Expo SDK](/workflow/upgrading-expo-sdk-walkthrough)

Assorted

Integrations

Troubleshooting

Regulatory compliance

[Data and Privacy protection](/regulatory-compliance/data-and-privacy-protection)[GDPR compliance](/regulatory-compliance/gdpr)[HIPAA compliance](/regulatory-compliance/hipaa)[Privacy Shield](/regulatory-compliance/privacy-shield)

[Archive](/archive)[Expo Snack](https://snack.expo.dev)[Discord and Forums](https://chat.expo.dev)[Newsletter](https://expo.dev/mailing-list/signup)

Typed routes
============

[Edit this page](https://github.com/expo/expo/edit/main/docs/pages/router/reference/typed-routes.mdx)

Learn how to use statically typed links and routes in Expo Router.

[Edit this page](https://github.com/expo/expo/edit/main/docs/pages/router/reference/typed-routes.mdx)

---

> Available when using TypeScript in your project. Expo Router supports standard TypeScript out of the box. See the [TypeScript](/guides/typescript) guide for more information on how to set it up.

Expo Router supports generating TypeScript types automatically with Expo CLI. This enables `<Link>`, and the [hooks API](/router/reference/hooks) to be statically typed. This feature is currently in beta and is not enabled by default.

Get started
-----------

### Quick start

If you created your project using the [Expo Router quick start guide](/router/installation#quick-start) then your project is already configured to use typed routes. The Expo CLI will generate the required type file the first time you run `npx expo start`. Then, you can use autocomplete for `href` props whenever you use an Expo Router `<Link>` component in a .tsx file.

### Manual configuration

While the feature is in beta, you can enable it by setting `experiments.typedRoutes` to `true` in your app.json:

app.json

Copy

```
{
  "expo": {
    "experiments": {
      "typedRoutes": true
    }
  }
}

```

Run `npx expo customize tsconfig.json` to configure your tsconfig.json to add the required `includes` fields.

Then, start the development server by running `npx expo start`. You can now use autocomplete in the Expo Router `<Link>` component's `href` prop.

Type generation
---------------

Typed routes in Expo Router are automatically generated when the development server starts. By default, these generated types are configured to be untracked by Git and will be added to the local .gitignore file. This ensures that autogenerated files do not clutter your version control system.

If you find yourself in a situation where you need to generate these types without initiating the development server, such as during type checking on a Continuous Integration (CI) server. To do this, run the command `npx expo customize tsconfig.json` on the CI.

Statically typed routes
-----------------------

Components and functions that use `Href<T>` will now be statically typed and have a much stricter definition. For example:

```
â <Link href="/about" />
â <Link href="/user/1" />
â <Link href={`/user/${id}`} />
â <Link href={("/user" + id) as Href} />
// TypeScript errors if href is not a valid route
â <Link href="/usser/1" />

```

For dynamic routes, Href's need to be objects and their parameters are strictly typed:

```
â <Link href={{ pathname: "/user/[id]", params: { id: 1 }}} />
// TypeScript errors as href is valid, but it should be a HrefObject with params
â <Link href="/user/[id]" />
// TypeScript errors as params contain invalid keys
â <Link href={{ pathname: "/user/[id]", params: { _id: 1 }}} />
// TypeScript errors as params contain unknown keys
â <Link href={{ pathname: "/user/[id]", params: { id: 1, id2: 2 }}} />

```

### Relative paths

Statically typed routes do not support relative paths. You'll need to use absolute paths for all routes:

```
â <Link href="/about" />

// Relative paths are not supported
â <Link href="./about" />

```

You can leverage the `useSegments()` hooks from `expo-router` to create complex relative paths. Consider the following structure:

`app`

â`(feed)`

ââ`_layout.tsx`

ââ`feed.tsx`

ââ`search.tsx`

ââ`profile.tsx`

â`(search)`

ââ`profile.tsx`

`components`

â`button.tsx`

You can ensure that you push to the same tab by using the `useSegments()` hook to get the first segment of the current route.

button.tsx

Copy

```
import { Link, useSegments } from 'expo-router';

export function Button() {
  const [
    // This will be either `(feed)` or `(search)` depending on the current tab.
    first,
  ] = useSegments();

  return <Link href={`/${first}/profile`}>Push profile</Link>;
}

```

Now, you can leverage `<Button />` from both app/(feed)/feed.tsx and app/(search)/search.tsx to push `./profile` while preserving the current tab.

If you require the segments for a specific use, you can pass the full route to `useSegments`

button.tsx

Copy

```
import { Link, useSegments } from 'expo-router';

export function useMySegments() {
  const segments = useSegments<'app/(search)/profile.tsx'>();
  //    ^? segments = ['app', '(search)', 'profile']
  return segments;
}

```

Imperative navigation
---------------------

You can use the typed `router` object to navigate imperatively:

```
import { router } from 'expo-router';

router.push('/about');

```

Or with the typed `useRouter()` hook:

```
import { useRouter } from 'expo-router';

function Page() {
  const router = useRouter();

  router.push('/about');

  // ...
}

```

Route parameters
----------------

For strongly typed route parameters you can pass a full href to the `useLocalSearchParams` and `useGlobalSearchParams` hooks

app/search.tsx

Copy

```
import { Text } from 'react-native';
import { useLocalSearchParams } from 'expo-router';

export default function Page() {
  const {
    profile, // string
    search, // string[]
  } = useLocalSearchParams<'app/(search)/[profile]/[...search].tsx'>();

  return (
    <>
      <Text>Profile: {profile}</Text>
      <Text>Search: {search.join(',')}</Text>
    </>
  );
}

```

Query parameters
----------------

Most query parameters will not be represented in the file system and therefore cannot be typed automatically. You can type query parameters manually by passing a generic to the `useLocalSearchParams` and `useGlobalSearchParams` hooks. For example:

app/search.tsx

Copy

```
import { Text } from 'react-native';
import { useLocalSearchParams } from 'expo-router';

export default function Page() {
  const { query } = useLocalSearchParams<{ query?: string }>();

  return <Text>Search: {query ?? 'unset'}</Text>;
}

```

If you need a combination of route and query parameters, pass the route as the first generic and then the query parameters

app/search.tsx

Copy

```
import { Text } from 'react-native';
import { useLocalSearchParams } from 'expo-router';

export default function Page() {
  const { query, profile, search } = useLocalSearchParams<
    '/[profile]/[...search]',
    { query?: string }
  >();

  return <Text>Search: {query ?? 'unset'}</Text>;
}

```

Changes made to the environment
-------------------------------

When typed routes is enabled, Expo CLI will generate a git ignored expo-env.d.ts file in your project's root directory, update the .gitignore to ignore the new root expo-env.d.ts file, and modify the tsconfig.json to include the new expo-env.d.ts file.

The `includes` field in your tsconfig.json gets updated to include expo-env.d.ts and a hidden .expo directory. These entries are required and should not be removed from the file.

The generated expo-env.d.ts should not be removed or changed at any time. It should not be committed and should be ignored by version control.

### Global types

Expo CLI will add the following global types to your project when typed routes is enabled:

* Sets `process.env.NODE_ENV = "development" | "production" | "test"`
* Allows the importing of `.[css|sass|scss]` files
* Sets the exports of `*.module.[css|sass|scss]` to be `Record<string, string>`
* Add types for Metro's `require.context`. This is enabled by `expo/metro-config` and used for static route generation.

### React Native Web

With typed routes enabled, Expo CLI also augments the `react-native` types to support React Native Web. The following changes are made:

* Add additional web-only styles for `ViewStyle`, `TextStyle`, `ImageStyle`
* Add `tabIndex`, `aria-level`, `lang` to `TextProps`
* Add `hovered` to Pressable's `children` and `style` state callback function
* Add `className` elements

[Previous (Expo Router - Reference)

Sitemap](/router/reference/sitemap)[Next (Expo Router - Reference)

Screen tracking for analytics](/router/reference/screen-tracking)

Was this doc helpful?

* Share your feedback
* [Ask a question on the forums](https://chat.expo.dev/)
* [Edit this page](https://github.com/expo/expo/edit/main/docs/pages/router/reference/typed-routes.mdx)
* Last updated on March 12, 2025

Sign up for the Expo Newsletter

Sign Up

Unsubscribe at any time. Read our [privacy policy](https://expo.dev/privacy).

On this page

[Get started](/router/reference/typed-routes/#get-started)[Quick start](/router/reference/typed-routes/#quick-start)[Manual configuration](/router/reference/typed-routes/#manual-configuration)[Type generation](/router/reference/typed-routes/#type-generation)[Statically typed routes](/router/reference/typed-routes/#statically-typed-routes)[Relative paths](/router/reference/typed-routes/#relative-paths)[Imperative navigation](/router/reference/typed-routes/#imperative-navigation)[Route parameters](/router/reference/typed-routes/#route-parameters)[Query parameters](/router/reference/typed-routes/#query-parameters)[Changes made to the environment](/router/reference/typed-routes/#changes-made-to-the-environment)[Global types](/router/reference/typed-routes/#global-types)[React Native Web](/router/reference/typed-routes/#react-native-web)