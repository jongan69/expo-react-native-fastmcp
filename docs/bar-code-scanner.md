BarCodeScanner - Expo Documentation

[Docs](/)

[Blog](https://expo.dev/blog)[Changelog](https://expo.dev/changelog)[Star Us on GitHub](https://github.com/expo/expo)

Search

[Home](/)[Guides](/guides/overview)[EAS](/eas)[Reference](/versions/latest)[Learn](/tutorial/overview)

Reference version

Configuration files

[app.json / app.config.js](/versions/v51.0.0/config/app)[metro.config.js](/versions/v51.0.0/config/metro)

Expo SDK

[Accelerometer](/versions/v51.0.0/sdk/accelerometer)[AppleAuthentication](/versions/v51.0.0/sdk/apple-authentication)[Application](/versions/v51.0.0/sdk/application)[Asset](/versions/v51.0.0/sdk/asset)[AsyncStorage](/versions/v51.0.0/sdk/async-storage)[Audio](/versions/v51.0.0/sdk/audio)[AuthSession](/versions/v51.0.0/sdk/auth-session)[AV](/versions/v51.0.0/sdk/av)[BackgroundFetch](/versions/v51.0.0/sdk/background-fetch)[BarCodeScanner](/versions/v51.0.0/sdk/bar-code-scanner)[Barometer](/versions/v51.0.0/sdk/barometer)[Battery](/versions/v51.0.0/sdk/battery)[BlurView](/versions/v51.0.0/sdk/blur-view)[Brightness](/versions/v51.0.0/sdk/brightness)[BuildProperties](/versions/v51.0.0/sdk/build-properties)[Calendar](/versions/v51.0.0/sdk/calendar)[Camera](/versions/v51.0.0/sdk/camera)[Camera (legacy)](/versions/v51.0.0/sdk/camera-legacy)[captureRef](/versions/v51.0.0/sdk/captureRef)[Cellular](/versions/v51.0.0/sdk/cellular)[Checkbox](/versions/v51.0.0/sdk/checkbox)[Clipboard](/versions/v51.0.0/sdk/clipboard)[Constants](/versions/v51.0.0/sdk/constants)[Contacts](/versions/v51.0.0/sdk/contacts)[Crypto](/versions/v51.0.0/sdk/crypto)[DateTimePicker](/versions/v51.0.0/sdk/date-time-picker)[DevClient](/versions/v51.0.0/sdk/dev-client)[Device](/versions/v51.0.0/sdk/device)[DeviceMotion](/versions/v51.0.0/sdk/devicemotion)[DocumentPicker](/versions/v51.0.0/sdk/document-picker)[FaceDetector](/versions/v51.0.0/sdk/facedetector)[FileSystem](/versions/v51.0.0/sdk/filesystem)[FlashList](/versions/v51.0.0/sdk/flash-list)[Font](/versions/v51.0.0/sdk/font)[GestureHandler](/versions/v51.0.0/sdk/gesture-handler)[GLView](/versions/v51.0.0/sdk/gl-view)[Gyroscope](/versions/v51.0.0/sdk/gyroscope)[Haptics](/versions/v51.0.0/sdk/haptics)[Image](/versions/v51.0.0/sdk/image)[ImageManipulator](/versions/v51.0.0/sdk/imagemanipulator)[ImagePicker](/versions/v51.0.0/sdk/imagepicker)[IntentLauncher](/versions/v51.0.0/sdk/intent-launcher)[KeepAwake](/versions/v51.0.0/sdk/keep-awake)[LightSensor](/versions/v51.0.0/sdk/light-sensor)[LinearGradient](/versions/v51.0.0/sdk/linear-gradient)[Linking](/versions/v51.0.0/sdk/linking)[LocalAuthentication](/versions/v51.0.0/sdk/local-authentication)[Localization](/versions/v51.0.0/sdk/localization)[Location](/versions/v51.0.0/sdk/location)[Lottie](/versions/v51.0.0/sdk/lottie)[Magnetometer](/versions/v51.0.0/sdk/magnetometer)[MailComposer](/versions/v51.0.0/sdk/mail-composer)[Manifests](/versions/v51.0.0/sdk/manifests)[MapView](/versions/v51.0.0/sdk/map-view)[MaskedView](/versions/v51.0.0/sdk/masked-view)[MediaLibrary](/versions/v51.0.0/sdk/media-library)[NavigationBar](/versions/v51.0.0/sdk/navigation-bar)[NetInfo](/versions/v51.0.0/sdk/netinfo)[Network](/versions/v51.0.0/sdk/network)[Notifications](/versions/v51.0.0/sdk/notifications)[Pedometer](/versions/v51.0.0/sdk/pedometer)[Picker](/versions/v51.0.0/sdk/picker)[Print](/versions/v51.0.0/sdk/print)[Reanimated](/versions/v51.0.0/sdk/reanimated)[registerRootComponent](/versions/v51.0.0/sdk/register-root-component)[SafeAreaContext](/versions/v51.0.0/sdk/safe-area-context)[ScreenCapture](/versions/v51.0.0/sdk/screen-capture)[ScreenOrientation](/versions/v51.0.0/sdk/screen-orientation)[Screens](/versions/v51.0.0/sdk/screens)[SecureStore](/versions/v51.0.0/sdk/securestore)[SegmentedControl](/versions/v51.0.0/sdk/segmented-control)[Sensors](/versions/v51.0.0/sdk/sensors)[Sharing](/versions/v51.0.0/sdk/sharing)[Skia](/versions/v51.0.0/sdk/skia)[Slider](/versions/v51.0.0/sdk/slider)[SMS](/versions/v51.0.0/sdk/sms)[Speech](/versions/v51.0.0/sdk/speech)[SplashScreen](/versions/v51.0.0/sdk/splash-screen)[SQLite](/versions/v51.0.0/sdk/sqlite)[SQLite (legacy)](/versions/v51.0.0/sdk/sqlite-legacy)[StatusBar](/versions/v51.0.0/sdk/status-bar)[StoreReview](/versions/v51.0.0/sdk/storereview)[Stripe](/versions/v51.0.0/sdk/stripe)[Svg](/versions/v51.0.0/sdk/svg)[Symbols](/versions/v51.0.0/sdk/symbols)[SystemUI](/versions/v51.0.0/sdk/system-ui)[TaskManager](/versions/v51.0.0/sdk/task-manager)[TrackingTransparency](/versions/v51.0.0/sdk/tracking-transparency)[Updates](/versions/v51.0.0/sdk/updates)[URL](/versions/v51.0.0/sdk/url)[Video (expo-av)](/versions/v51.0.0/sdk/video-av)[Video (expo-video)](/versions/v51.0.0/sdk/video)[VideoThumbnails](/versions/v51.0.0/sdk/video-thumbnails)[ViewPager](/versions/v51.0.0/sdk/view-pager)[WebBrowser](/versions/v51.0.0/sdk/webbrowser)[WebView](/versions/v51.0.0/sdk/webview)

Technical specs

[Expo Updates v1](/technical-specs/expo-updates-1)[Expo Structured Field Values](/technical-specs/expo-sfv-0)

More

[Expo CLI](/more/expo-cli)[create-expo-app](/more/create-expo)[qr.expo.dev](/more/qr-codes)[Glossary of terms](/more/glossary-of-terms)

React Native

[Visit documentation](https://reactnative.dev/docs/components-and-apis)

[Archive](/archive)[Expo Snack](https://snack.expo.dev)[Discord and Forums](https://chat.expo.dev)[Newsletter](https://expo.dev/mailing-list/signup)

Expo BarCodeScanner iconExpo BarCodeScanner
===========================================

[GitHub](https://github.com/expo/expo/tree/sdk-51/packages/expo-barcode-scanner)[npm](https://www.npmjs.com/package/expo-barcode-scanner)

A library that allows scanning a variety of supported barcodes. It is available both as a standalone library and as an extension for Expo Camera.

[GitHub](https://github.com/expo/expo/tree/sdk-51/packages/expo-barcode-scanner)[npm](https://www.npmjs.com/package/expo-barcode-scanner)

Android (device only)

iOS (device only)

Bundled version:

~13.0.1

---

> Deprecated: This library will no longer be available from SDK 51. We recommend using [`expo-camera`](/versions/v51.0.0/sdk/camera) which has barcode scanning built-in instead.

`expo-barcode-scanner` provides a React component that renders a viewfinder for the device's camera (either front or back) and will scan bar codes that show up in the frame.

#### Limitations

> Only one active `BarCodeScanner` preview is currently supported.

When using navigation, the best practice is to unmount any previously rendered `BarCodeScanner` component so the following screens can use their own `BarCodeScanner` without any issue.

#### Known issuesâ Android iOS

The `BarCodeScanner` component has difficulty scanning barcodes with black backgrounds. This is a limitation due to the underlying ZXing library. It is also an issue discussed on a [Stack Overflow thread](https://stackoverflow.com/questions/41518373/zxing-library-not-scanning-qr-code-black-background-and-white-codenegative-scan). To work around this, your app should allow users to capture the barcode image and then invert the colors of the image before passing it to the `BarCodeScanner`.

Installation
------------

Terminal

Copy

`-Â``npx expo install expo-barcode-scanner`

If you are installing this in an [existing React Native app](/bare/overview), make sure to [install `expo`](/bare/installing-expo-modules) in your project.

Configuration in app config
---------------------------

You can configure `expo-barcode-scanner` using its built-in [config plugin](/config-plugins/introduction) if you use config plugins in your project ([EAS Build](/build/introduction) or `npx expo run:[android|ios]`). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect.

### Example app.json with config plugin

app.json

Copy

```
{
  "expo": {
    "plugins": [
      [
        "expo-barcode-scanner",
        {
          "cameraPermission": "Allow $(PRODUCT_NAME) to access camera."
        }
      ]
    ]
  }
}

```

### Configurable properties

| Name | Default | Description |
| --- | --- | --- |
| `cameraPermission` | `"Allow $(PRODUCT_NAME) to access your camera"` | Only for:â iOS  A string to set the [`NSCameraUsageDescription`](#permission-nscamerausagedescription) permission message. |
| `microphonePermission` | `"Allow $(PRODUCT_NAME) to access your microphone"` | Only for:â iOS  A string to set the [`NSMicrophoneUsageDescription`](#permission-nsmicrophoneusagedescription) permission message. |

Are you using this library in an existing React Native app?

Learn how to configure the native projects in the [installation instructions in the `expo-barcode-scanner` repository](https://github.com/expo/expo/tree/main/packages/expo-barcode-scanner#installation-in-bare-react-native-projects).

Supported formats
-----------------

| Bar code format | Android | iOS |
| --- | --- | --- |
| aztec |  |  |
| codabar |  |  |
| code39 |  | \* |
| code93 |  |  |
| code128 |  |  |
| code39mod43 |  |  |
| datamatrix |  |  |
| ean13 |  |  |
| ean8 |  |  |
| interleaved2of5 | use `itf14` |  |
| itf14 |  | \* |
| maxicode |  |  |
| pdf417 |  | \* |
| rss14 |  |  |
| rssexpanded |  |  |
| upc\_a |  |  |
| upc\_e |  |  |
| upc\_ean |  |  |
| qr |  |  |

#### Additional notes

1. When an `ITF-14` barcode is recognized, it's type can sometimes be set to `interleaved2of5`.
2. Scanning for either `PDF417` and/or `Code39` formats can result in a noticeable increase in battery consumption on iOS. It is recommended to provide only the bar code formats you expect to scan to the `barCodeTypes` prop.

Usage
-----

You must request permission to access the user's camera before attempting to get it. To do this, you will want to use the [Permissions](/guides/permissions) API. You can see this in practice in the following example.

Basic BarCodeScanner usage

Copy

Open in Snack

```
import { useState, useEffect } from 'react';
import { Text, View, StyleSheet, Button } from 'react-native';
import { BarCodeScanner } from 'expo-barcode-scanner';

export default function App() {
  const [hasPermission, setHasPermission] = useState(null);
  const [scanned, setScanned] = useState(false);

  useEffect(() => {
    const getBarCodeScannerPermissions = async () => {
      const { status } = await BarCodeScanner.requestPermissionsAsync();
      setHasPermission(status === 'granted');
    };

    getBarCodeScannerPermissions();
  }, []);

  const handleBarCodeScanned = ({ type, data }) => {
    setScanned(true);
    alert(`Bar code with type ${type} and data ${data} has been scanned!`);
  };

  if (hasPermission === null) {
    return <Text>Requesting for camera permission</Text>;
  }
  if (hasPermission === false) {
    return <Text>No access to camera</Text>;
  }

  return (
    <View style={styles.container}>
      <BarCodeScanner
        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}
        style={StyleSheet.absoluteFillObject}
      />
      {scanned && <Button title={'Tap to Scan Again'} onPress={() => setScanned(false)} />}
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    flexDirection: 'column',
    justifyContent: 'center',
  },
});

```

API
---

```
import { BarCodeScanner } from 'expo-barcode-scanner';

```

Component
---------

> Deprecated BarCodeScanner has been deprecated and will be removed in a future SDK version. Use `expo-camera` instead.
> See [How to migrate from `expo-barcode-scanner` to `expo-camera`](https://expo.fyi/barcode-scanner-to-expo-camera)
> for more details.

### `BarCodeScanner`

Type: `React.Component<BarCodeScannerProps>`

BarCodeScannerProps

### `barCodeTypes`

Optionalââ¢âType: `string[]`

An array of bar code types. Usage: `BarCodeScanner.Constants.BarCodeType.<codeType>` where
`codeType` is one of these [listed above](#supported-formats). Defaults to all supported bar
code types. It is recommended to provide only the bar code formats you expect to scan to
minimize battery usage.

For example: `barCodeTypes={[BarCodeScanner.Constants.BarCodeType.qr]}`.

### `onBarCodeScanned`

Optionalââ¢âType: `BarCodeScannedCallback`

A callback that is invoked when a bar code has been successfully scanned. The callback is
provided with an [BarCodeScannerResult](#barcodescannerresult).

> Note: Passing `undefined` to the `onBarCodeScanned` prop will result in no scanning. This
> can be used to effectively "pause" the scanner so that it doesn't continually scan even after
> data has been retrieved.

### `type`

Optionalââ¢âLiteral type: `union`ââ¢âDefault: `Type.back`

Camera facing. Use one of `BarCodeScanner.Constants.Type`. Use either `Type.front` or `Type.back`.
Same as `Camera.Constants.Type`.

Acceptable values are: `'front'` | `'back'` | `number`

#### Inherited Props

* `ViewProps`

Hooks
-----

### `usePermissions(options)`

| Parameter | Type |
| --- | --- |
| options(optional) | `PermissionHookOptions<object>` |

  

Check or request permissions for the barcode scanner.
This uses both `requestPermissionAsync` and `getPermissionsAsync` to interact with the permissions.

Returns:

`[null | PermissionResponse, RequestPermissionMethod<PermissionResponse>, GetPermissionMethod<PermissionResponse>]`

Example

```
const [permissionResponse, requestPermission] = BarCodeScanner.usePermissions();

```

Methods
-------

### `BarCodeScanner.getPermissionsAsync()`

Checks user's permissions for accessing the camera.

Returns:

`Promise<PermissionResponse>`

Return a promise that fulfills to an object of type [`PermissionResponse`](#permissionresponse).

### `BarCodeScanner.requestPermissionsAsync()`

Asks the user to grant permissions for accessing the camera.

On iOS this will require apps to specify the `NSCameraUsageDescription` entry in the `Info.plist`.

Returns:

`Promise<PermissionResponse>`

Return a promise that fulfills to an object of type [`PermissionResponse`](#permissionresponse).

### `BarCodeScanner.scanFromURLAsync(url, barCodeTypes)`

| Parameter | Type | Description |
| --- | --- | --- |
| url | `string` | URL to get the image from. |
| barCodeTypes(optional) | `string[]` | An array of bar code types. Defaults to all supported bar code types on the platform.  Note: Only QR codes are supported on iOS. |

  

Scan bar codes from the image given by the URL.

Returns:

`Promise<BarCodeScannerResult[]>`

A possibly empty array of objects of the `BarCodeScannerResult` shape, where the type
refers to the bar code type that was scanned and the data is the information encoded in the bar
code.

Interfaces
----------

### `PermissionResponse`

An object obtained by permissions get and request functions.

| Property | Type | Description |
| --- | --- | --- |
| canAskAgain | `boolean` | Indicates if user can be asked again for specific permission. If not, one should be directed to the Settings app in order to enable/disable the permission. |
| expires | `PermissionExpiration` | Determines time when the permission expires. |
| granted | `boolean` | A convenience boolean that indicates if the permission is granted. |
| status | `PermissionStatus` | Determines the status of the permission. |

Types
-----

### `BarCodeBounds`

| Property | Type | Description |
| --- | --- | --- |
| origin | `BarCodePoint` | The origin point of the bounding box. |
| size | `BarCodeSize` | The size of the bounding box. |

### `BarCodeEvent`

Type: `BarCodeScannerResult` extended by:

| Property | Type | Description |
| --- | --- | --- |
| target(optional) | `number` | - |

### `BarCodeEventCallbackArguments`

| Property | Type | Description |
| --- | --- | --- |
| nativeEvent | `BarCodeEvent` | - |

### `BarCodePoint`

Those coordinates are represented in the coordinate space of the barcode source (e.g. when you
are using the barcode scanner view, these values are adjusted to the dimensions of the view).

| Property | Type | Description |
| --- | --- | --- |
| x | `number` | The `x` coordinate value. |
| y | `number` | The `y` coordinate value. |

### `BarCodeScannedCallback(params)`

| Parameter | Type |
| --- | --- |
| params | `BarCodeEvent` |

Returns:

`void`

### `BarCodeScannerResult`

| Property | Type | Description |
| --- | --- | --- |
| bounds | `BarCodeBounds` | The [BarCodeBounds](#barcodebounds) object. `bounds` in some case will be representing an empty rectangle. Moreover, `bounds` doesn't have to bound the whole barcode. For some types, they will represent the area used by the scanner. |
| cornerPoints | `BarCodePoint[]` | Corner points of the bounding box. `cornerPoints` is not always available and may be empty. On iOS, for `code39` and `pdf417` you don't get this value. |
| data | `string` | The parsed information encoded in the bar code. |
| type | `string` | The barcode type. |

### `BarCodeSize`

| Property | Type | Description |
| --- | --- | --- |
| height | `number` | The height value. |
| width | `number` | The width value. |

### `PermissionHookOptions`

Literal Type: `union`

Acceptable values are: `PermissionHookBehavior` | `Options`

Enums
-----

### `PermissionStatus`

#### `DENIED`

`PermissionStatus.DENIED ï¼ "denied"`

User has denied the permission.

#### `GRANTED`

`PermissionStatus.GRANTED ï¼ "granted"`

User has granted the permission.

#### `UNDETERMINED`

`PermissionStatus.UNDETERMINED ï¼ "undetermined"`

User hasn't granted or denied the permission yet.

Permissions
-----------

### Android

The following permissions are added automatically through this library's AndroidManifest.xml:

| Android Permission | Description |
| --- | --- |
| `CAMERA` | Required to be able to access the camera device. |

### iOS

The following usage description keys are used by this library:

| Info.plist Key | Description |
| --- | --- |
| `NSCameraUsageDescription` | A message that tells the user why the app is requesting access to the deviceâs camera. |
| `NSMicrophoneUsageDescription` | A message that tells the user why the app is requesting access to the deviceâs microphone. |

[Previous (Expo SDK)

BackgroundFetch](/versions/v51.0.0/sdk/background-fetch)[Next (Expo SDK)

Barometer](/versions/v51.0.0/sdk/barometer)

Was this doc helpful?

* Share your feedback
* [Ask a question on the forums about BarCodeScanner](https://chat.expo.dev/)
* [View open bug reports for BarCodeScanner](https://github.com/expo/expo/labels/BarCodeScanner)
* [Edit this page](https://github.com/expo/expo/edit/main/docs/pages/versions/v51.0.0/sdk/bar-code-scanner.mdx)

Sign up for the Expo Newsletter

Sign Up

Unsubscribe at any time. Read our [privacy policy](https://expo.dev/privacy).

On this page

[Limitations](/versions/v51.0.0/sdk/bar-code-scanner/#limitations)[Known issuesâ](/versions/v51.0.0/sdk/bar-code-scanner/#known-issues)[Installation](/versions/v51.0.0/sdk/bar-code-scanner/#installation)[Configuration in app config](/versions/v51.0.0/sdk/bar-code-scanner/#configuration-in-app-config)[Example app.json with config plugin](/versions/v51.0.0/sdk/bar-code-scanner/#example-appjson-with-config-plugin)[Configurable properties](/versions/v51.0.0/sdk/bar-code-scanner/#configurable-properties)[Supported formats](/versions/v51.0.0/sdk/bar-code-scanner/#supported-formats)[Additional notes](/versions/v51.0.0/sdk/bar-code-scanner/#additional-notes)[Usage](/versions/v51.0.0/sdk/bar-code-scanner/#usage)[API](/versions/v51.0.0/sdk/bar-code-scanner/#api)[Component](/versions/v51.0.0/sdk/bar-code-scanner/#component)[`BarCodeScanner`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescanner)[`barCodeTypes`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodetypes)[`onBarCodeScanned`](/versions/v51.0.0/sdk/bar-code-scanner/#onbarcodescanned)[`type`](/versions/v51.0.0/sdk/bar-code-scanner/#type)[Inherited Props](/versions/v51.0.0/sdk/bar-code-scanner/#inherited-props)[Hooks](/versions/v51.0.0/sdk/bar-code-scanner/#hooks)[`usePermissions()`](/versions/v51.0.0/sdk/bar-code-scanner/#usepermissionsoptions)[Methods](/versions/v51.0.0/sdk/bar-code-scanner/#methods)[`getPermissionsAsync()`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescannergetpermissionsasync)[`requestPermissionsAsync()`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescannerrequestpermissionsasync)[`scanFromURLAsync()`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescannerscanfromurlasyncurl-barcodetypes)[Interfaces](/versions/v51.0.0/sdk/bar-code-scanner/#interfaces)[`PermissionResponse`](/versions/v51.0.0/sdk/bar-code-scanner/#permissionresponse)[Types](/versions/v51.0.0/sdk/bar-code-scanner/#types)[`BarCodeBounds`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodebounds)[`BarCodeEvent`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodeevent)[`BarCodeEventCallbackArguments`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodeeventcallbackarguments)[`BarCodePoint`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodepoint)[`BarCodeScannedCallback()`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescannedcallbackparams)[`BarCodeScannerResult`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodescannerresult)[`BarCodeSize`](/versions/v51.0.0/sdk/bar-code-scanner/#barcodesize)[`PermissionHookOptions`](/versions/v51.0.0/sdk/bar-code-scanner/#permissionhookoptions)[Enums](/versions/v51.0.0/sdk/bar-code-scanner/#enums)[`PermissionStatus`](/versions/v51.0.0/sdk/bar-code-scanner/#permissionstatus)[Permissions](/versions/v51.0.0/sdk/bar-code-scanner/#permissions)[Android](/versions/v51.0.0/sdk/bar-code-scanner/#android)[CAMERA](/versions/v51.0.0/sdk/bar-code-scanner/#permission-camera)[iOS](/versions/v51.0.0/sdk/bar-code-scanner/#ios)[NSCameraUsageDescription](/versions/v51.0.0/sdk/bar-code-scanner/#permission-nscamerausagedescription)[NSMicrophoneUsageDescription](/versions/v51.0.0/sdk/bar-code-scanner/#permission-nsmicrophoneusagedescription)